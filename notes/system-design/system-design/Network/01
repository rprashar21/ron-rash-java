OSi Model
Layer 7: Application    â†’ REST, WebSocket, HTTP, HTTPS
Layer 6: Presentation   â†’ TLS/SSL, Encryption, Compression
Layer 5: Session        â†’ Session Management, Connections
Layer 4: Transport      â†’ TCP, UDP
Layer 3: Network        â†’ IP (Internet Protocol)
Layer 2: Data Link      â†’ Ethernet, WiFi
Layer 1: Physical       â†’ Cables, Radio Waves


TCP (Transmission Control Protocol) Layer 4 - Transport Purpose: Reliable, ordered data delivery
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        APPLICATION LAYER            â”‚  â† Your app code
â”‚     (HTTP, WebSocket, REST)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         TCP LAYER                   â”‚  â† Reliability & Order
â”‚    (Connection, Flow Control)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         IP LAYER                    â”‚  â† Routing
â”‚      (Addressing, Routing)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TCP example
Client                    Server
  |                         |
  |------ SYN ------------>|  (Connection request)
  |<----- SYN-ACK ---------|  (Connection accepted)
  |------ ACK ------------>|  (Connection established)
  |                         |
  |------ Data Packet 1 -->|
  |<----- ACK --------------|  (Packet 1 received)
  |------ Data Packet 2 -->|
  |<----- ACK --------------|  (Packet 2 received)

UDP (User Datagram Protocol)
Position: Layer 4 - Transport
Purpose: Fast, unreliable data delivery

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        APPLICATION LAYER            â”‚  â† Your app code
â”‚    (DNS, Gaming, Video Streaming)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         UDP LAYER                   â”‚  â† Speed over reliability
â”‚      (Fire and forget)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         IP LAYER                    â”‚  â† Routing
â”‚      (Addressing, Routing)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Client                    Server
  |                         |
  |------ Data Packet 1 -->|  (Fire and forget)
  |------ Data Packet 2 -->|  (No acknowledgment)
  |------ Data Packet 3 -->|  (Packet 2 might be lost!)

Layer 7 -- Application layer --which is also built on tcp with security --
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         HTTP/HTTPS                  â”‚  â† Application Protocol
â”‚   (GET, POST, Headers, Status)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         TLS/SSL (HTTPS only)        â”‚  â† Encryption Layer
â”‚       (Encryption, Certificates)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         TCP                         â”‚  â† Reliable Transport
â”‚    (Connection, Reliability)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         IP                          â”‚  â† Network Routing
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
HTTP:  Application â† TCP â† IP
HTTPS: Application â† TLS â† TCP â† IP


==========================================
Rest Apis -- Position is layer 7 -- https+TCp+TLS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         REST API                    â”‚  â† Architectural Style
â”‚  (GET /users, POST /orders, etc.)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         HTTP/HTTPS                  â”‚  â† Protocol
â”‚   (Methods, Headers, Status Codes)  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         TCP                         â”‚  â† Transport
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

stateless, responses are cacheable, simple for debugging, universla browser support,Load balancer friendly


âŒ Higher latency (new connections)
âŒ No server-initiated communication
âŒ Overhead for small messages
âŒ Polling required for real-time updates

Websockets alo work on http layer
connection is bidriectional and always open
Persistent Connection Model:
Client â†” [Bidirectional Channel] â†” Server
Connection stays open

Tradeoffs
âœ… Low latency (persistent connection)
âœ… Bidirectional communication
âœ… Lower overhead for frequent messages
âœ… Server can push data

âŒ Stateful (harder to scale)
âŒ Not cacheable
âŒ Complex error handling
âŒ Load balancer challenges
âŒ Memory usage (open connections)


Critical System Design Takeaway:

Layer 4 (TCP vs UDP) determines reliability vs speed
Layer 7 (REST vs WebSocket) determines communication pattern
Each layer adds overhead and latency

Interview-Ready Examples:
ğŸ® Gaming: "I'd use UDP because 60fps means 16ms between updates. TCP's reliability guarantees would add latency we can't afford. Lost position packets are okay since the next update corrects it."
ğŸ’¬ Chat: "I need WebSocket because users expect instant message delivery and typing indicators. The bidirectional nature means server can push messages without client polling."
ğŸ›’ E-commerce: "REST API works perfectly because product catalogs change infrequently, responses are cacheable, and mobile apps handle intermittent connectivity well."
